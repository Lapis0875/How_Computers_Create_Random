# How Computers Generate Random Numbers?
@author : 영훈고등학교 30604 김민준
@copyright 2021

컴퓨터가 난수를 생성하는 방법에 대해서 조사하였습니다.

## code
사용한 파이썬 코드입니다.
1. 의사 랜덤 vs 하드웨어 랜덤
[comparison.py](/comparison.py)
2. 의사 랜덤의 여러 구현 방식들
[pseudo_randoms.py](/pseudo_randoms.py)

## Content
### 컴퓨터로 계산하는 랜덤
세상에는 확률적으로 일어나는 수많은 사건들이 존재합니다. 
근래에는, 컴퓨터에서 동작하는 게임 등의 프로그램들에서도, 확률적으로 진행되는 이벤트 등이 다수 존재합니다.
문득 궁금해졌습니다. 컴퓨터에서는 확률, 그 중에서도 무작위의 확률(random) 을 어떻게 구현할까?
컴퓨터는 결국 정해진 계산 과정을 통해 값을 도출하는 기계입니다. 그렇기에, 완전히 무작위의 확률을 계산하는것은 컴퓨터 혼자서는 불가능한 일입니다.
자연적인 랜덤(True random)은 컴퓨터 밖에서 일어나는 특정한 물리적인 현상을 관측해, 그 데이터를 토대로 랜덤한 값을 생성하는 방식입니다..
예를 들어, 원자의 분해 (atom decay, radioactive decay) 를 관측하거나, 주변의 잡음을 측정하거나, 혹은 키보드를 누른 시간과 눌린 키의 정보 등을 사용해 완전한 랜덤을 구현할 수 있습니다.
의사 랜덤(Pseudorandom)은 시드 값과 알고리즘을 활용해, 랜덤한 값을 만들어내는 방식입니다.
어떤 랜덤을 사용하는지는 게임과 같은 경우에서는 크게 구분할 필요가 없습니다.
그러나, 암호화와 같은 보안 분야에서는 랜덤성은 매우 중요한 사안입니다.
공격자가 랜덤 값을 예측하면, 암호화를 풀어내어 중요한 정보를 훔칠 수 있기 때문입니다.

### 현재 컴퓨터에서 사용하는 랜덤 숫자 생성기
랜덤 숫자 생성기 (Random numbers generator, RNG) 는 크게 두가지로 구분됩니다.
CPU 등의 하드웨어적인 장치로부터 물리 현상을 관측해, 거의 자연 랜덤에 가까운 방식으로 랜덤 값을 생성하는 Hardware Random Number Generators (HRNGS) 와,
의사 랜덤 방식으로, 특정한 알고리즘을 사용해 시드 값을 기준으로 의사 랜덤값을 도출해내는 Pseudorandom Number Generators (PRNGS) 의 방식이 있습니다.

의사 랜덤 생성 알고리즘의 몇가지 예시를 조사해 보았습니다.
### 중앙제곱법 (Mid Square Method) - 폰 노이만 (1949)
중앙제곱법은 폰 노이만이 1949년에 고안한 의사 난수 생성법으로, 임의의 숫자를 제곱한 다음 이 숫자의 일부분을 사용해 새로운 난수를 만드는 방법입니다.
1234를 초기값으로 해, 임의의 4자리 난수를 만든다고 가정해보겠습니다.

> 페이즈	대상값	제곱값	난수
> 0	1234	1522756	1522756
> 1	5227	27321529	27321529
> 2	3215	10336225	10336225

위와 같이, 중앙에 있는 값을 가져와 다시 제곱하면서 임의의 난수를 생성하는 방식으로 동작합니다.
간단한 방법이므로, 예측되기 쉬워 요즘에는 거의 사용되지 않습니다.

### 선형합동법 (Linear Congruential Method)
선형합동법은 C언어의 rand함수에서 사용하는 알고리즘입니다.
선형합동법은 다음과 같은 재귀 관계식으로 정의되며, 난수들의 수열을 반환합니다.
```
X_n+1 = (a × X_n + c) mod m
```
선형합동법의 특징은 이전에 생성된 난수를 활용한다는 것이며 최대 mm만큼 경우의 수를 가지므로 최악의 경우 mm 만큼의 반복 주기를 가집니다.
한번 m 변수에 작은 수를 할당한 다음에 다시 호출해봅시다. 동일한 난수 값이 눈에 띄게 많이 출현하는 것을 확인해볼 수 있습니다.
선형합동법은 계산이 굉장히 간단하고 빠르기 때문에 초창기부터 컴퓨터에 널리 사용되었습니다.
그러나 선형합동법은 난수에 주기성이 있고 생성되어 나오는 난수들 사이에 상관 관계가 존재하기 때문에 마지막으로 생성된 난수와 그 외 변수들만 알면 그 다음에 생성될 난수를 모두 예측할 수 있습니다.
문제는 그 변수들이 ANSI C 표준으로 정해져 있어서 누구든지 다 알 수 있다는 점에 있습니다.
즉, 조금 지식이 있는 사람이면 rand 함수의 결과를 보고 다음 난수를 미리 예상할 수 있다는 것입니다.
그래서 이 알고리즘은 난수가 예측당해도 상관없는 경우나 임베디드처럼 메모리를 많이 사용하지 못하는 제한된 상황에서 주로 사용합니다.

### 메르센 트위스터 (Mersen Twister)
메르센 트위스터는 ... 
